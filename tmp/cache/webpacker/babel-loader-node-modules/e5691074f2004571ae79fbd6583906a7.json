{"ast":null,"code":"var _jsxFileName = \"/home/srdjan/Desktop/LS/capstone_ta/reaction_solution/app/javascript/components/user/Login.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {\n        email: \"\",\n        password: \"\"\n      },\n      redirect: false\n    };\n\n    _this.handleToggleErrors = function (callback) {\n      if (!_this.state.email) {\n        _this.setState(function (state) {\n          return {\n            errors: _objectSpread({}, state.errors, {\n              email: \"Email can't be empty\"\n            })\n          };\n        }, function () {\n          return callback();\n        });\n      } else {\n        _this.setState(function (state) {\n          return {\n            errors: _objectSpread({}, state.errors, {\n              email: \"\"\n            })\n          };\n        }, function () {\n          return callback();\n        });\n      }\n\n      if (!_this.state.password) {\n        _this.setState(function (state) {\n          return {\n            errors: _objectSpread({}, state.errors, {\n              password: \"Password can't be empty\"\n            })\n          };\n        }, function () {\n          return callback();\n        });\n      } else {\n        _this.setState(function (state) {\n          return {\n            errors: _objectSpread({}, state.errors, {\n              password: \"\"\n            })\n          };\n        }, function () {\n          return callback();\n        });\n      }\n    };\n\n    _this.handleInputChange = function (e) {\n      var value = e.target.value;\n      var name = e.target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleLogin = function () {\n      _this.handleToggleErrors(function () {\n        if (!_this.state.errors.email && !_this.state.errors.password) {\n          _this.props.onLogin({\n            email: _this.state.email,\n            password: _this.state.password\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.isLoggedIn !== this.props.isLoggedIn && this.props.isLoggedIn) {\n        this.setState({\n          redirect: true\n        });\n      } else if (prevProps.isLoggedIn !== this.props.isLoggedIn && !this.props.isLoggedIn) {\n        this.setState({\n          redirect: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.isLoggedIn && this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"login-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), this.state.errors.email ? React.createElement(\"div\", {\n        className: \"input-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Email can't be empty\") : null, React.createElement(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), this.state.errors.password ? React.createElement(\"div\", {\n        className: \"input-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Password can't be empty\") : null, React.createElement(\"button\", {\n        onClick: this.handleLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \" Sign in \"), React.createElement(Link, {\n        to: \"/signUp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \" \", React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \" Don't have an account? Register \"))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["/home/srdjan/Desktop/LS/capstone_ta/reaction_solution/app/javascript/components/user/Login.jsx"],"names":["React","Link","Redirect","Login","state","email","password","errors","redirect","handleToggleErrors","callback","setState","handleInputChange","e","value","target","name","handleLogin","props","onLogin","prevProps","isLoggedIn","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass Login extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    errors: { email: \"\", password: \"\" },\n    redirect: false\n  };\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.isLoggedIn !== this.props.isLoggedIn &&\n      this.props.isLoggedIn\n    ) {\n      this.setState({ redirect: true });\n    } else if (\n      prevProps.isLoggedIn !== this.props.isLoggedIn &&\n      !this.props.isLoggedIn\n    ) {\n      this.setState({ redirect: false });\n    }\n  }\n\n  handleToggleErrors = callback => {\n    if (!this.state.email) {\n      this.setState(\n        state => {\n          return { errors: { ...state.errors, email: \"Email can't be empty\" } };\n        },\n        () => callback()\n      );\n    } else {\n      this.setState(\n        state => {\n          return { errors: { ...state.errors, email: \"\" } };\n        },\n        () => callback()\n      );\n    }\n    if (!this.state.password) {\n      this.setState(\n        state => {\n          return {\n            errors: { ...state.errors, password: \"Password can't be empty\" }\n          };\n        },\n        () => callback()\n      );\n    } else {\n      this.setState(\n        state => {\n          return { errors: { ...state.errors, password: \"\" } };\n        },\n        () => callback()\n      );\n    }\n  };\n\n  handleInputChange = e => {\n    const value = e.target.value;\n    const name = e.target.name;\n    this.setState({ [name]: value });\n  };\n\n  handleLogin = () => {\n    this.handleToggleErrors(() => {\n      if (!this.state.errors.email && !this.state.errors.password) {\n        this.props.onLogin({\n          email: this.state.email,\n          password: this.state.password\n        });\n      }\n    });\n  };\n\n  render() {\n    if (this.props.isLoggedIn && this.state.redirect) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className=\"login-wrap\">\n        <h2>Login</h2>\n\n        <div className=\"form\">\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            value={this.state.email}\n            onChange={this.handleInputChange}\n          />\n          {this.state.errors.email ? (\n            <div className=\"input-feedback\">Email can't be empty</div>\n          ) : null}\n\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            value={this.state.password}\n            onChange={this.handleInputChange}\n          />\n          {this.state.errors.password ? (\n            <div className=\"input-feedback\">Password can't be empty</div>\n          ) : null}\n          <button onClick={this.handleLogin}> Sign in </button>\n          <Link to={\"/signUp\"}>\n            {\" \"}\n            <p> Don't have an account? Register </p>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}