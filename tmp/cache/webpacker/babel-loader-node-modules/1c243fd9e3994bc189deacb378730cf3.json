{"ast":null,"code":"import apiClient from \"../lib/ApiClient\";\nimport * as types from \"../constants/ActionTypes\";\nimport { clearStorage, populatedStorage } from \"../utils/helpers\";\nexport function loginRequest() {\n  return {\n    type: types.LOGIN_REQUEST\n  };\n}\nexport function loginSuccess(data) {\n  return {\n    type: types.LOGIN_SUCCESS,\n    payload: {\n      token: data.token,\n      user: data.user\n    }\n  };\n}\nexport function signUpRequest() {\n  return {\n    type: types.SIGNUP_REQUEST\n  };\n}\nexport function signUpSuccess(data) {\n  return {\n    type: types.SIGNUP_SUCCESS,\n    payload: {\n      token: data.token,\n      user: data.user\n    }\n  };\n}\nexport function logoutSuccess() {\n  return {\n    type: types.LOGOUT_SUCCESS\n  };\n}\nexport function login(user, callback) {\n  return function (dispatch) {\n    dispatch(loginRequest());\n    apiClient.login(user, function (data) {\n      populatedStorage(data);\n      dispatch(loginSuccess(data));\n      if (callback) callback();\n    });\n  };\n}\nexport function logout() {\n  return function (dispatch) {\n    dispatch(logoutSuccess());\n    clearStorage();\n  };\n}\nexport function signup(user, callback) {\n  return function (dispatch) {\n    dispatch(signUpRequest());\n    apiClient.signup(user, function (data) {\n      populatedStorage(data);\n      dispatch(signUpSuccess(data));\n      if (callback) callback();\n    });\n  };\n}","map":{"version":3,"sources":["/home/srdjan/Desktop/LS/capstone_ta/reaction_solution/app/javascript/actions/UserActions.js"],"names":["apiClient","types","clearStorage","populatedStorage","loginRequest","type","LOGIN_REQUEST","loginSuccess","data","LOGIN_SUCCESS","payload","token","user","signUpRequest","SIGNUP_REQUEST","signUpSuccess","SIGNUP_SUCCESS","logoutSuccess","LOGOUT_SUCCESS","login","callback","dispatch","logout","signup"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,kBAAtB;AACA,OAAO,KAAKC,KAAZ,MAAuB,0BAAvB;AACA,SAASC,YAAT,EAAuBC,gBAAvB,QAA+C,kBAA/C;AAEA,OAAO,SAASC,YAAT,GAAwB;AAC7B,SAAO;AAAEC,IAAAA,IAAI,EAAEJ,KAAK,CAACK;AAAd,GAAP;AACD;AAED,OAAO,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AACjC,SAAO;AACLH,IAAAA,IAAI,EAAEJ,KAAK,CAACQ,aADP;AAELC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,KAAK,EAAEH,IAAI,CAACG,KAAd;AAAqBC,MAAAA,IAAI,EAAEJ,IAAI,CAACI;AAAhC;AAFJ,GAAP;AAID;AAED,OAAO,SAASC,aAAT,GAAyB;AAC9B,SAAO;AAAER,IAAAA,IAAI,EAAEJ,KAAK,CAACa;AAAd,GAAP;AACD;AAED,OAAO,SAASC,aAAT,CAAuBP,IAAvB,EAA6B;AAClC,SAAO;AACLH,IAAAA,IAAI,EAAEJ,KAAK,CAACe,cADP;AAGLN,IAAAA,OAAO,EAAE;AAAEC,MAAAA,KAAK,EAAEH,IAAI,CAACG,KAAd;AAAqBC,MAAAA,IAAI,EAAEJ,IAAI,CAACI;AAAhC;AAHJ,GAAP;AAKD;AAED,OAAO,SAASK,aAAT,GAAyB;AAC9B,SAAO;AACLZ,IAAAA,IAAI,EAAEJ,KAAK,CAACiB;AADP,GAAP;AAGD;AAED,OAAO,SAASC,KAAT,CAAeP,IAAf,EAAqBQ,QAArB,EAA+B;AACpC,SAAO,UAASC,QAAT,EAAmB;AACxBA,IAAAA,QAAQ,CAACjB,YAAY,EAAb,CAAR;AACAJ,IAAAA,SAAS,CAACmB,KAAV,CAAgBP,IAAhB,EAAsB,UAAAJ,IAAI,EAAI;AAC5BL,MAAAA,gBAAgB,CAACK,IAAD,CAAhB;AACAa,MAAAA,QAAQ,CAACd,YAAY,CAACC,IAAD,CAAb,CAAR;AACA,UAAIY,QAAJ,EAAcA,QAAQ;AACvB,KAJD;AAKD,GAPD;AAQD;AAED,OAAO,SAASE,MAAT,GAAkB;AACvB,SAAO,UAASD,QAAT,EAAmB;AACxBA,IAAAA,QAAQ,CAACJ,aAAa,EAAd,CAAR;AACAf,IAAAA,YAAY;AACb,GAHD;AAID;AAED,OAAO,SAASqB,MAAT,CAAgBX,IAAhB,EAAsBQ,QAAtB,EAAgC;AACrC,SAAO,UAASC,QAAT,EAAmB;AACxBA,IAAAA,QAAQ,CAACR,aAAa,EAAd,CAAR;AACAb,IAAAA,SAAS,CAACuB,MAAV,CAAiBX,IAAjB,EAAuB,UAAAJ,IAAI,EAAI;AAC7BL,MAAAA,gBAAgB,CAACK,IAAD,CAAhB;AACAa,MAAAA,QAAQ,CAACN,aAAa,CAACP,IAAD,CAAd,CAAR;AACA,UAAIY,QAAJ,EAAcA,QAAQ;AACvB,KAJD;AAKD,GAPD;AAQD","sourcesContent":["import apiClient from \"../lib/ApiClient\";\nimport * as types from \"../constants/ActionTypes\";\nimport { clearStorage, populatedStorage } from \"../utils/helpers\";\n\nexport function loginRequest() {\n  return { type: types.LOGIN_REQUEST };\n}\n\nexport function loginSuccess(data) {\n  return {\n    type: types.LOGIN_SUCCESS,\n    payload: { token: data.token, user: data.user }\n  };\n}\n\nexport function signUpRequest() {\n  return { type: types.SIGNUP_REQUEST };\n}\n\nexport function signUpSuccess(data) {\n  return {\n    type: types.SIGNUP_SUCCESS,\n\n    payload: { token: data.token, user: data.user }\n  };\n}\n\nexport function logoutSuccess() {\n  return {\n    type: types.LOGOUT_SUCCESS\n  };\n}\n\nexport function login(user, callback) {\n  return function(dispatch) {\n    dispatch(loginRequest());\n    apiClient.login(user, data => {\n      populatedStorage(data);\n      dispatch(loginSuccess(data));\n      if (callback) callback();\n    });\n  };\n}\n\nexport function logout() {\n  return function(dispatch) {\n    dispatch(logoutSuccess());\n    clearStorage();\n  };\n}\n\nexport function signup(user, callback) {\n  return function(dispatch) {\n    dispatch(signUpRequest());\n    apiClient.signup(user, data => {\n      populatedStorage(data);\n      dispatch(signUpSuccess(data));\n      if (callback) callback();\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}