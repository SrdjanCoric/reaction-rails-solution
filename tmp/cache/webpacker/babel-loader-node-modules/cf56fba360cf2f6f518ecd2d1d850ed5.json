{"ast":null,"code":"var _jsxFileName = \"/home/srdjan/Desktop/LS/capstone_ta/reaction_solution/app/javascript/components/Application.jsx\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport TopNav from \"./shared/TopNav\";\nimport BoardContainer from \"./board/BoardContainer\";\nimport CardModalContainer from \"./card/CardModalContainer\";\nimport UISection from \"./ui/UISection\";\nimport AllBoards from \"./ui/AllBoards\";\nimport CardArchived from \"./ui/CardArchived\";\nimport CardEditingDescription from \"./ui/CardEditingDescription\";\nimport Card from \"./ui/Card\";\nimport CopyCardPopover from \"./ui/CopyCardPopover\";\nimport CreateBoard from \"./ui/CreateBoard\";\nimport DueDatePopover from \"./ui/DueDatePopover\";\nimport LabelsPopover from \"./ui/LabelsPopover\";\nimport MoveCardPopover from \"./ui/MoveCardPopover\";\nimport SingleBoard from \"./ui/SingleBoard\";\nimport SignupContainer from \"./user/SignupContainer\";\nimport LoginContainer from \"./user/LoginContainer\";\nimport BoardsDashboardContainer from \"./dashboard/BoardsDashboardContainer\";\nimport AuthRoute from \"./shared/AuthRoute\";\nimport { checkAuth } from \"../utils/helpers\";\n\nvar Application =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Application, _React$Component);\n\n  function Application() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Application);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Application)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      redirect: false\n    };\n    return _this;\n  }\n\n  _createClass(Application, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (checkAuth()) {\n        return;\n      }\n\n      this.props.onLogout();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var logoutTimer;\n\n      if (prevProps.isLoggedIn !== this.props.isLoggedIn && this.props.isLoggedIn) {\n        logoutTimer = setTimeout(this.props.onLogout, 1000 * 60 * 60);\n        this.setState({\n          redirect: true\n        });\n      } else if (prevProps.isLoggedIn !== this.props.isLoggedIn && !this.props.isLoggedIn) {\n        this.setState({\n          redirect: false\n        });\n      } else if (!this.props.token) {\n        clearTimeout(logoutTimer);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.isLoggedIn && this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(TopNav, {\n        user: this.props.user,\n        isLoggedIn: this.props.isLoggedIn,\n        onLogout: this.props.onLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/login\",\n        exact: true,\n        component: LoginContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(AuthRoute, {\n        exact: true,\n        path: \"/\",\n        component: BoardsDashboardContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(AuthRoute, {\n        exact: true,\n        path: \"/(boards|cards)/:id\",\n        component: BoardContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(AuthRoute, {\n        exact: true,\n        path: \"/cards/:id\",\n        component: CardModalContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signup\",\n        component: SignupContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui\",\n        exact: true,\n        component: UISection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/allBoards\",\n        component: AllBoards,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/cardArchived\",\n        component: CardArchived,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/cardEditingDescription\",\n        component: CardEditingDescription,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/card\",\n        component: Card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/copyCardPopover\",\n        component: CopyCardPopover,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/createBoard\",\n        component: CreateBoard,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/dueDatePopover\",\n        component: DueDatePopover,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/labelsPopover\",\n        component: LabelsPopover,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/moveCardPopover\",\n        component: MoveCardPopover,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ui/singleBoard\",\n        component: SingleBoard,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Application;\n}(React.Component);\n\nexport default Application;","map":{"version":3,"sources":["/home/srdjan/Desktop/LS/capstone_ta/reaction_solution/app/javascript/components/Application.jsx"],"names":["React","Route","Redirect","TopNav","BoardContainer","CardModalContainer","UISection","AllBoards","CardArchived","CardEditingDescription","Card","CopyCardPopover","CreateBoard","DueDatePopover","LabelsPopover","MoveCardPopover","SingleBoard","SignupContainer","LoginContainer","BoardsDashboardContainer","AuthRoute","checkAuth","Application","state","redirect","props","onLogout","prevProps","logoutTimer","isLoggedIn","setTimeout","setState","token","clearTimeout","user","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport TopNav from \"./shared/TopNav\";\nimport BoardContainer from \"./board/BoardContainer\";\nimport CardModalContainer from \"./card/CardModalContainer\";\nimport UISection from \"./ui/UISection\";\nimport AllBoards from \"./ui/AllBoards\";\nimport CardArchived from \"./ui/CardArchived\";\nimport CardEditingDescription from \"./ui/CardEditingDescription\";\nimport Card from \"./ui/Card\";\nimport CopyCardPopover from \"./ui/CopyCardPopover\";\nimport CreateBoard from \"./ui/CreateBoard\";\nimport DueDatePopover from \"./ui/DueDatePopover\";\nimport LabelsPopover from \"./ui/LabelsPopover\";\nimport MoveCardPopover from \"./ui/MoveCardPopover\";\nimport SingleBoard from \"./ui/SingleBoard\";\nimport SignupContainer from \"./user/SignupContainer\";\nimport LoginContainer from \"./user/LoginContainer\";\nimport BoardsDashboardContainer from \"./dashboard/BoardsDashboardContainer\";\nimport AuthRoute from \"./shared/AuthRoute\";\nimport { checkAuth } from \"../utils/helpers\";\n\nclass Application extends React.Component {\n  state = {\n    redirect: false,\n  };\n\n  componentDidMount() {\n    if (checkAuth()) {\n      return;\n    }\n    this.props.onLogout();\n  }\n\n  componentDidUpdate(prevProps) {\n    let logoutTimer;\n\n    if (\n      prevProps.isLoggedIn !== this.props.isLoggedIn &&\n      this.props.isLoggedIn\n    ) {\n      logoutTimer = setTimeout(this.props.onLogout, 1000 * 60 * 60);\n      this.setState({ redirect: true });\n    } else if (\n      prevProps.isLoggedIn !== this.props.isLoggedIn &&\n      !this.props.isLoggedIn\n    ) {\n      this.setState({ redirect: false });\n    } else if (!this.props.token) {\n      clearTimeout(logoutTimer);\n    }\n  }\n  render() {\n    if (!this.props.isLoggedIn && this.state.redirect) {\n      return <Redirect to=\"/login\" />;\n    }\n    return (\n      <div>\n        <TopNav\n          user={this.props.user}\n          isLoggedIn={this.props.isLoggedIn}\n          onLogout={this.props.onLogout}\n        />\n        <Route path=\"/login\" exact component={LoginContainer} />\n        <AuthRoute exact path=\"/\" component={BoardsDashboardContainer} />\n        <AuthRoute\n          exact\n          path=\"/(boards|cards)/:id\"\n          component={BoardContainer}\n        />\n        <AuthRoute exact path=\"/cards/:id\" component={CardModalContainer} />\n        <Route path=\"/signup\" component={SignupContainer} />\n        <Route path=\"/ui\" exact component={UISection} />\n        <Route path=\"/ui/allBoards\" component={AllBoards} />\n        <Route path=\"/ui/cardArchived\" component={CardArchived} />\n        <Route\n          path=\"/ui/cardEditingDescription\"\n          component={CardEditingDescription}\n        />\n        <Route path=\"/ui/card\" component={Card} />\n        <Route path=\"/ui/copyCardPopover\" component={CopyCardPopover} />\n        <Route path=\"/ui/createBoard\" component={CreateBoard} />\n        <Route path=\"/ui/dueDatePopover\" component={DueDatePopover} />\n        <Route path=\"/ui/labelsPopover\" component={LabelsPopover} />\n        <Route path=\"/ui/moveCardPopover\" component={MoveCardPopover} />\n        <Route path=\"/ui/singleBoard\" component={SingleBoard} />\n      </div>\n    );\n  }\n}\n\nexport default Application;\n"]},"metadata":{},"sourceType":"module"}