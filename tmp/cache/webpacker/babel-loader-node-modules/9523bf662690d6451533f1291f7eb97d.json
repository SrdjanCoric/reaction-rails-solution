{"ast":null,"code":"import apiClient from \"../lib/ApiClient\";\nimport * as types from \"../constants/ActionTypes\";\nexport function createCommentRequest() {\n  return {\n    type: types.CREATE_COMMENT_REQUEST\n  };\n}\nexport function createCommentSuccess(comment) {\n  return {\n    type: types.CREATE_COMMENT_SUCCESS,\n    payload: {\n      comment: comment\n    }\n  };\n}\nexport function createComment(token, cardId, text, callback) {\n  return function (dispatch) {\n    dispatch(createCommentRequest()); // apiClient.createComment(token, cardId, text, data => {\n    //   dispatch(createCommentSuccess(data.comment));\n    //   if (callback) callback(data.comment);\n    // });\n\n    apiClient.createComment(cardId, {\n      text: text\n    }, function (newComment) {\n      dispatch(createCommentSuccess(newComment));\n      if (callback) callback(newComment);\n    });\n  };\n}","map":{"version":3,"sources":["/home/srdjan/Desktop/LS/capstone_ta/reaction_solution/app/javascript/actions/CommentActions.js"],"names":["apiClient","types","createCommentRequest","type","CREATE_COMMENT_REQUEST","createCommentSuccess","comment","CREATE_COMMENT_SUCCESS","payload","createComment","token","cardId","text","callback","dispatch","newComment"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,kBAAtB;AACA,OAAO,KAAKC,KAAZ,MAAuB,0BAAvB;AAEA,OAAO,SAASC,oBAAT,GAAgC;AACrC,SAAO;AAAEC,IAAAA,IAAI,EAAEF,KAAK,CAACG;AAAd,GAAP;AACD;AAED,OAAO,SAASC,oBAAT,CAA8BC,OAA9B,EAAuC;AAC5C,SAAO;AAAEH,IAAAA,IAAI,EAAEF,KAAK,CAACM,sBAAd;AAAsCC,IAAAA,OAAO,EAAE;AAAEF,MAAAA,OAAO,EAAPA;AAAF;AAA/C,GAAP;AACD;AAED,OAAO,SAASG,aAAT,CAAuBC,KAAvB,EAA8BC,MAA9B,EAAsCC,IAAtC,EAA4CC,QAA5C,EAAsD;AAC3D,SAAO,UAASC,QAAT,EAAmB;AACxBA,IAAAA,QAAQ,CAACZ,oBAAoB,EAArB,CAAR,CADwB,CAExB;AACA;AACA;AACA;;AACAF,IAAAA,SAAS,CAACS,aAAV,CAAwBE,MAAxB,EAAgC;AAACC,MAAAA,IAAI,EAAJA;AAAD,KAAhC,EAAwC,UAAAG,UAAU,EAAI;AACpDD,MAAAA,QAAQ,CAACT,oBAAoB,CAACU,UAAD,CAArB,CAAR;AACA,UAAIF,QAAJ,EAAcA,QAAQ,CAACE,UAAD,CAAR;AACf,KAHD;AAID,GAVD;AAWD","sourcesContent":["import apiClient from \"../lib/ApiClient\";\nimport * as types from \"../constants/ActionTypes\";\n\nexport function createCommentRequest() {\n  return { type: types.CREATE_COMMENT_REQUEST };\n}\n\nexport function createCommentSuccess(comment) {\n  return { type: types.CREATE_COMMENT_SUCCESS, payload: { comment } };\n}\n\nexport function createComment(token, cardId, text, callback) {\n  return function(dispatch) {\n    dispatch(createCommentRequest());\n    // apiClient.createComment(token, cardId, text, data => {\n    //   dispatch(createCommentSuccess(data.comment));\n    //   if (callback) callback(data.comment);\n    // });\n    apiClient.createComment(cardId, {text}, newComment => {\n      dispatch(createCommentSuccess(newComment));\n      if (callback) callback(newComment);\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}