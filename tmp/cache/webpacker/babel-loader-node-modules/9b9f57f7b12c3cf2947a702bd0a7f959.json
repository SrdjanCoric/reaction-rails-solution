{"ast":null,"code":"var _jsxFileName = \"/home/srdjan/Desktop/LS/capstone_ta/reaction_solution/app/javascript/components/board/AddListContainer.jsx\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport AddList from \"./AddList\";\nimport * as actions from \"../../actions/ListActions\";\nimport calculatePosition from \"../../lib/PositionCalculator\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    dispatch: dispatch\n  };\n};\n\nvar mergeStateToProps = function mergeStateToProps(stateProps, dispatchProps, ownProps) {\n  var boardId = ownProps.boardId;\n  var listsFromBoard = stateProps.state.lists.filter(function (list) {\n    return list.boardId === boardId;\n  });\n  var targetPosition = listsFromBoard.length;\n  var position = calculatePosition(listsFromBoard, targetPosition);\n  return _objectSpread({\n    onSubmit: function onSubmit(token, title) {\n      try {\n        dispatchProps.dispatch(actions.createList(token, boardId, title, position));\n      } catch (e) {\n        console.error(e);\n      }\n    },\n    user: stateProps.state.user\n  }, ownProps);\n};\n\nvar AddListContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddListContainer, _React$Component);\n\n  function AddListContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddListContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddListContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      title: \"\",\n      showForm: false\n    };\n\n    _this.handleInputChange = function (e) {\n      e.stopPropagation();\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleInputClick = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        showForm: true\n      });\n    };\n\n    _this.handleClose = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        showForm: false\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      _this.props.onSubmit(localStorage.getItem(\"jwtToken\"), _this.state.title);\n\n      _this.handleClose(e);\n\n      _this.setState({\n        title: \"\"\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(AddListContainer, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(AddList, {\n        onSubmit: this.handleSubmit,\n        onClose: this.handleClose,\n        onInputClick: this.handleInputClick,\n        onInputChange: this.handleInputChange,\n        showForm: this.state.showForm,\n        title: this.state.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return AddListContainer;\n}(React.Component);\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeStateToProps)(AddListContainer);","map":{"version":3,"sources":["/home/srdjan/Desktop/LS/capstone_ta/reaction_solution/app/javascript/components/board/AddListContainer.jsx"],"names":["React","connect","AddList","actions","calculatePosition","mapStateToProps","state","mapDispatchToProps","dispatch","mergeStateToProps","stateProps","dispatchProps","ownProps","boardId","listsFromBoard","lists","filter","list","targetPosition","length","position","onSubmit","token","title","createList","e","console","error","user","AddListContainer","showForm","handleInputChange","stopPropagation","name","target","value","setState","handleInputClick","preventDefault","handleClose","handleSubmit","props","localStorage","getItem","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport AddList from \"./AddList\";\nimport * as actions from \"../../actions/ListActions\";\nimport calculatePosition from \"../../lib/PositionCalculator\";\n\nconst mapStateToProps = state => {\n  return {\n    state\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  };\n};\n\nconst mergeStateToProps = (stateProps, dispatchProps, ownProps) => {\n  let boardId = ownProps.boardId;\n  let listsFromBoard = stateProps.state.lists.filter(\n    list => list.boardId === boardId\n  );\n  let targetPosition = listsFromBoard.length;\n  let position = calculatePosition(listsFromBoard, targetPosition);\n  return {\n    onSubmit: (token, title) => {\n      try {\n        dispatchProps.dispatch(\n          actions.createList(token, boardId, title, position)\n        );\n      } catch (e) {\n        console.error(e);\n      }\n    },\n    user: stateProps.state.user,\n    ...ownProps\n  };\n};\n\nclass AddListContainer extends React.Component {\n  state = {\n    title: \"\",\n    showForm: false\n  };\n  handleInputChange = e => {\n    e.stopPropagation();\n    const name = e.target.name;\n    const value = e.target.value;\n\n    this.setState({ [name]: value });\n  };\n\n  handleInputClick = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({ showForm: true });\n  };\n\n  handleClose = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({ showForm: false });\n  };\n\n  handleSubmit = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.props.onSubmit(localStorage.getItem(\"jwtToken\"), this.state.title);\n    this.handleClose(e);\n    this.setState({ title: \"\" });\n  };\n  render() {\n    return (\n      <AddList\n        onSubmit={this.handleSubmit}\n        onClose={this.handleClose}\n        onInputClick={this.handleInputClick}\n        onInputChange={this.handleInputChange}\n        showForm={this.state.showForm}\n        title={this.state.title}\n      />\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n  mergeStateToProps\n)(AddListContainer);\n"]},"metadata":{},"sourceType":"module"}